(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),i=n(17),o=n.n(i),s=(n(41),n(42),n(12)),l=n(2),d=n(14),p=n.n(d),u=n(18),j=n(6),b=n(11),h=n(4),m=n.n(h),O=n(10),f=["title","titleId"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},g.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=e.title,r=e.titleId,i=x(e,f);return a.createElement("svg",g({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),void 0===n?a.createElement("title",{id:r},"pokemon"):n?a.createElement("title",{id:r},n):null,c||(c=a.createElement("path",{d:"M9.17 13H3a1 1 0 0 1-1-1C2 6.477 6.477 2 12 2c4.128 0 7.786 2.524 9.29 6.294a1 1 0 1 1-1.857.741A8.002 8.002 0 0 0 4.062 11H9.17a3.001 3.001 0 0 1 5.658 0h6.173a1 1 0 0 1 1 1c0 5.523-4.477 10-10 10a10.002 10.002 0 0 1-9.29-6.294 1 1 0 0 1 1.857-.741A8.002 8.002 0 0 0 19.939 13h-5.11a3.001 3.001 0 0 1-5.658 0zM12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",fill:"#000",fillRule:"nonzero"})))}var k=a.forwardRef(v),y=(n.p,n.p+"static/media/no-result.fb3ad3af.png"),N=n(1),_=function(e){var t=Object(O.c)((function(e){return e})),n=t.loading,c=t.filter,r=Object(O.c)((function(e){return e.search})),i=Object(O.c)((function(e){return e.pokemon})),o=Object(O.b)(),s=Object(a.useState)(Object(j.a)(i)),l=Object(b.a)(s,2),d=l[0],h=l[1],f=Object(a.useState)(1),g=Object(b.a)(f,2),x=g[0],v=g[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("pokemon");e?(o({type:"pokemon",payload:{pokemon:JSON.parse(e)}}),console.log("Pokemon list was cached!")):m.a.get("https://pokeapi.co/api/v2/pokedex/national").then((function(e){var t=e.data.pokemon_entries.map((function(e){return{name:e.pokemon_species.name,id:e.entry_number}}));localStorage.setItem("pokemon",JSON.stringify(t)),o({type:"pokemon",payload:{pokemon:t}})})).catch((function(e){return console.error(e)}))}),[]),Object(a.useEffect)((function(){o({type:"loading",payload:!0});var e=function(){var e=Object(u.a)(p.a.mark((function e(){var t,n,a,s,l,d,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(1),t=c.color,n=c.type,a=c.gender,s=[],l=Object(j.a)(i),t&&t.length>0&&(s=[].concat(Object(j.a)(s),Object(j.a)(t.map((function(e){return m.a.get("https://pokeapi.co/api/v2/pokemon-color/".concat(e,"/"))}))))),n.length>0&&(s=[].concat(Object(j.a)(s),Object(j.a)(n.map((function(e){return m.a.get("https://pokeapi.co/api/v2/type/".concat(e,"/"))}))))),0!==a&&s.push(m.a.get("https://pokeapi.co/api/v2/gender/".concat(a,"/"))),!(s.length>0)){e.next=13;break}return e.next=10,m.a.all(s);case 10:d=e.sent,u=d.map((function(e){return"pokemon_species"in e.data?e.data.pokemon_species.map((function(e){return Number(e.url.split("/").slice(-2)[0])})):"pokemon"in e.data?e.data.pokemon.map((function(e){return Number(e.pokemon.url.split("/").slice(-2)[0])})):e.data.pokemon_species_details.map((function(e){return Number(e.pokemon_species.url.split("/").slice(-2)[0])}))})).reduce((function(e,t,n){return e.filter((function(e){return t.includes(e)}))})),l=l.filter((function(e){return u.includes(e.id)}));case 13:""!==r&&(l=l.filter((function(e){var t=RegExp(r.toLowerCase());return t.test("".concat(e.id))||t.test(e.name)}))),h(Object(j.a)(l)),o({type:"loading",payload:!1});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=setTimeout(e,1e3);return function(){return clearTimeout(t)}}),[i,r,c]),Object(N.jsxs)("div",{className:"browse",children:[Object(N.jsx)("p",{children:"Choose a pokemon to get more information"}),Object(N.jsx)("div",{className:"pokemon-list",children:d.slice(0,20*x).map((function(e){return Object(N.jsx)(T,{name:e.name,id:e.id},e.id)}))}),n?Object(N.jsxs)("div",{className:"loading",children:[Object(N.jsx)(k,{}),Object(N.jsx)("p",{children:"Loading..."})]}):20*x<d.length?Object(N.jsxs)("label",{className:"styled-button",children:[Object(N.jsx)("p",{children:"Load More"}),Object(N.jsx)("input",{type:"button",value:"Load more",onClick:function(){return v((function(e){return e+1}))}})]}):"",0!==d.length||n?"":Object(N.jsxs)("div",{className:"loading",children:[Object(N.jsx)("img",{src:y,alt:"no-result"}),Object(N.jsx)("p",{children:"No results found."})]})]})},w=n(3),S=function e(t){return null===t?"":Object(N.jsxs)("div",{className:"evol-container",children:[Object(N.jsx)("div",{className:"evolution",children:Object(N.jsxs)(s.b,{to:"/details/".concat(t.species.id),children:[Object(N.jsx)("img",{src:"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/".concat(String(t.species.id).padStart(3,"0"),".png"),alt:t.species.name}),Object(N.jsx)("p",{children:t.species.name})]})}),null!==t.evolves_to?Object(N.jsx)("div",{className:"evol-flex",children:t.evolves_to.map(e)}):""]},t.species.id)},E=function e(t){return t?{species:{name:t.species.name,id:Number(t.species.url.split("/").slice(-2)[0])},evolves_to:t.evolves_to.length>0?t.evolves_to.map(e):null}:null},C=function(e){var t,n=Object(l.f)().id,c=Object(a.useState)({name:"",description:"",height:0,weight:0,category:"",gender:"",habitat:"",color:"",types:[],evolution:null}),r=Object(b.a)(c,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(p.a.mark((function e(){var t,c,a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.all(["https://pokeapi.co/api/v2/pokemon/".concat(n),"https://pokeapi.co/api/v2/pokemon-species/".concat(n)].map((function(e){return m.a.get(e)})));case 2:return c=e.sent,a=Object(w.a)(Object(w.a)({},c[0].data),c[1].data),e.next=6,m.a.get(a.evolution_chain.url);case 6:r=e.sent,(s=Object(w.a)({},i)).name=a.name,s.description=a.flavor_text_entries.filter((function(e){return"en"===e.language.name}))[0].flavor_text,s.height=a.height,s.weight=a.weight,s.category=a.genera.filter((function(e){return"en"===e.language.name}))[0].genus,e.t0=a.gender_rate,e.next=0===e.t0?16:8===e.t0?18:-1===e.t0?20:22;break;case 16:return s.gender="Male",e.abrupt("break",24);case 18:return s.gender="Female",e.abrupt("break",24);case 20:return s.gender="Genderless",e.abrupt("break",24);case 22:return s.gender="Male - Female",e.abrupt("break",24);case 24:s.habitat=(null===(t=a.habitat)||void 0===t?void 0:t.name)||"Undefined",s.color=a.color.name,s.types=a.types.map((function(e){return e.type.name})),s.evolution=E(r.data.chain),o(s),document.title="PokeSPA | ".concat(a.name.toUpperCase()," Details");case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){document.title="PokeSPA"}}),[n]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.b,{to:"/",children:Object(N.jsx)("div",{className:"overlay"})}),Object(N.jsxs)("div",{className:"details",children:[Object(N.jsx)("img",{src:"https://assets.pokemon.com/assets/cms2/img/pokedex/full/".concat(n.padStart(3,"0"),".png"),alt:"pk-".concat(n)}),Object(N.jsxs)("div",{className:"data",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:i.name}),Object(N.jsx)("p",{children:n.padStart(3,"0")})]}),Object(N.jsx)("p",{children:i.description}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Height"}),Object(N.jsxs)("p",{children:[10*i.height," cm"]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Weight"}),Object(N.jsxs)("p",{children:[100*i.weight," g"]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Category"}),Object(N.jsx)("p",{children:i.category})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Gender"}),Object(N.jsx)("p",{children:i.gender})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Habitat"}),Object(N.jsx)("p",{children:i.habitat})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Color"}),Object(N.jsx)("p",{children:i.color})]}),Object(N.jsxs)("div",{className:"pokemon-detail-types",children:[Object(N.jsx)("p",{children:"Types:"}),Object(N.jsx)("div",{children:i.types.map((function(e){return Object(N.jsx)("p",{children:e},e)}))})]})]}),null===(null===(t=i.evolution)||void 0===t?void 0:t.evolves_to)?Object(N.jsx)("div",{children:"This pokemon does not evolve"}):S(i.evolution),Object(N.jsx)(s.b,{to:"/",children:Object(N.jsx)("div",{className:"close",children:"X"})})]})]})},T=r.a.memo((function(e){var t=e.name,n=e.id;return Object(N.jsx)(s.b,{to:"/details/".concat(n),children:Object(N.jsxs)("div",{className:"pokemon",children:[Object(N.jsx)("img",{src:"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/".concat(String(n).padStart(3,"0"),".png"),alt:"".concat(t,"-img")}),Object(N.jsx)("p",{children:t.toUpperCase()})]})})})),P=n.p+"static/media/logo256.56d47c40.png",F=function(e){var t=Object(O.c)((function(e){return e.search})),n=Object(O.b)();return Object(N.jsxs)("div",{className:"bar",children:[Object(N.jsx)("img",{src:P,alt:"logo"}),Object(N.jsx)("input",{type:"text",placeholder:"Search",value:t,onChange:function(e){n({type:"search",payload:e.target.value})}})]})},I=n(20),L=function(e){var t=Object(O.b)(),n=Object(a.useState)([]),c=Object(b.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)([]),s=Object(b.a)(o,2),l=s[0],d=s[1],p=Object(a.useState)([]),u=Object(b.a)(p,2),h=u[0],f=u[1],g=Object(a.useState)(0),x=Object(b.a)(g,2),v=x[0],k=x[1];return Object(a.useEffect)((function(){t({type:"filter",payload:{gender:v,color:Object(j.a)(l.filter((function(e){return e.checked})).map((function(e){return e.id}))),type:Object(j.a)(r.filter((function(e){return e.checked})).map((function(e){return e.id})))}})}),[v,l,r]),Object(a.useEffect)((function(){m.a.all([m.a.get("https://pokeapi.co/api/v2/type"),m.a.get("https://pokeapi.co/api/v2/pokemon-color"),m.a.get("https://pokeapi.co/api/v2/gender")]).then(m.a.spread((function(e,t,n){i(e.data.results.map((function(e){return{name:e.name,id:Number(e.url.split("/").slice(-2)[0]),checked:!1}}))),d(t.data.results.map((function(e){return{name:e.name,id:Number(e.url.split("/").slice(-2)[0]),checked:!1}}))),f([{name:"All",id:0}].concat(Object(j.a)(n.data.results.map((function(e){return{name:e.name,id:Number(e.url.split("/").slice(-2)[0])}})))))}))).catch((function(e){return console.error(e)}))}),[]),Object(N.jsxs)("div",{className:"filter",children:[Object(N.jsxs)("label",{className:"styled-button",children:[Object(N.jsx)("p",{children:"Reset Filters"}),Object(N.jsx)("input",{type:"button",value:"Reset Filters",onClick:function(){d((function(e){return e.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{checked:!1})}))})),i((function(e){return e.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{checked:!1})}))})),t({type:"search",payload:""}),k(0)}})]}),Object(N.jsx)("p",{children:"Types:"}),Object(N.jsx)("div",{className:"type",children:r.map((function(e,t){return Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",name:e.name,id:"type-".concat(e.id),checked:e.checked,onChange:function(e){return i((function(n){var c=Object(j.a)(n);return c[t].checked=e.target.checked,c}))}}),Object(N.jsx)("span",{children:"".concat(e.name)}),Object(N.jsx)("img",{src:P,alt:"check-".concat(e.name)})]},"types-".concat(e.id))}))}),Object(N.jsx)("p",{children:"Colors:"}),Object(N.jsx)("div",{className:"colors",children:l.map((function(e,t){return Object(N.jsxs)("label",{style:Object(I.a)({},"--bg","".concat(e.name)),children:[Object(N.jsx)("input",{type:"checkbox",name:e.name,id:"color-".concat(e.id),checked:e.checked,onChange:function(e){return d((function(n){var c=Object(j.a)(n);return c[t].checked=e.target.checked,c}))}}),Object(N.jsx)("span",{children:"".concat(e.name)})]},"color-".concat(e.id))}))}),Object(N.jsx)("p",{children:"Genders:"}),Object(N.jsx)("div",{className:"genders",children:h.map((function(e){return Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"radio",name:e.name,id:"gender-".concat(e.id),checked:v===e.id,onChange:function(){return k(e.id)}}),Object(N.jsx)("span",{children:"".concat(e.name)})]},"gender-".concat(e.id))}))})]})},R=n(36),D=Object(R.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pokemon:[],search:"",filter:{color:[],type:[],gender:0},loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pokemon":return Object(w.a)(Object(w.a)({},e),{},{pokemon:t.payload.pokemon,loading:!1});case"loading":return Object(w.a)(Object(w.a)({},e),{},{loading:t.payload});case"filter":var n=t.payload,c=n.gender,a=n.color,r=n.type;return Object(w.a)(Object(w.a)({},e),{},{filter:{gender:c,color:a,type:r}});case"search":return Object(w.a)(Object(w.a)({},e),{},{search:t.payload});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),M=D;var A=function(){return Object(N.jsx)(O.a,{store:M,children:Object(N.jsxs)(s.a,{children:[Object(N.jsxs)("div",{className:"main",children:[Object(N.jsx)(F,{}),Object(N.jsx)(L,{}),Object(N.jsx)(_,{})]}),Object(N.jsx)(l.c,{children:Object(N.jsx)(l.a,{path:"/details/:id",children:Object(N.jsx)(C,{})})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};o.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(A,{})}),document.getElementById("root")),U()}},[[73,1,2]]]);
//# sourceMappingURL=main.d9475b7a.chunk.js.map